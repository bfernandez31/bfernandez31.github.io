---
// AboutIDE.astro - IDE-themed About section
export interface Props {
	biography: string;
	highlights?: string[];
}

const { biography, highlights = [] } = Astro.props;
---

<section class="about-ide">
	<div class="about-ide__container">
		<div class="about-ide__editor">
			<!-- Line numbers column -->
			<div class="about-ide__gutter">
				{Array.from({ length: 20 }, (_, i) => (
					<span class="about-ide__line-number">{i + 1}</span>
				))}
			</div>

			<!-- Editor content -->
			<div class="about-ide__content">
				<div class="about-ide__code">
					<span class="keyword">const</span> <span class="variable">developer</span> <span class="operator">=</span> <span class="punctuation">{`{`}</span>
					<div class="indent">
						<span class="property">name</span><span class="punctuation">:</span> <span class="string">"Benoit Fernandez"</span><span class="punctuation">,</span>
					</div>
					<div class="indent">
						<span class="property">role</span><span class="punctuation">:</span> <span class="string">"Full Stack Developer"</span><span class="punctuation">,</span>
					</div>
					<div class="indent">
						<span class="property">biography</span><span class="punctuation">:</span> <span class="string">`</span>
						<div class="indent-2">
							{biography}
						</div>
						<span class="string">`</span><span class="punctuation">,</span>
					</div>
					{highlights.length > 0 && (
						<div class="indent">
							<span class="property">highlights</span><span class="punctuation">:</span> <span class="punctuation">[</span>
							{highlights.map((highlight, index) => (
								<div class="indent-2">
									<span class="string">"{highlight}"</span>{index < highlights.length - 1 && <span class="punctuation">,</span>}
								</div>
							))}
							<div class="indent">
								<span class="punctuation">]</span><span class="punctuation">,</span>
							</div>
						</div>
					)}
					<span class="punctuation">{`}`}</span><span class="punctuation">;</span>
				</div>

				<!-- Terminal output section -->
				<div class="about-ide__terminal">
					<div class="terminal-header">
						<span class="terminal-icon">$</span>
						<span class="terminal-title">About.execute()</span>
					</div>
					<div class="terminal-output">
						<span class="terminal-prompt">{'>'}</span> <span class="terminal-text">Ready to collaborate on innovative projects</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	.about-ide {
		padding: 4rem 2rem;
		min-height: 80vh;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.about-ide__container {
		max-width: 1200px;
		width: 100%;
		margin: 0 auto;
	}

	.about-ide__editor {
		background: var(--color-surface, rgba(30, 30, 46, 0.8));
		border: 1px solid var(--color-border, rgba(255, 255, 255, 0.1));
		border-radius: 12px;
		overflow: hidden;
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
		display: grid;
		grid-template-columns: auto 1fr;
		backdrop-filter: blur(10px);
		-webkit-backdrop-filter: blur(10px);
	}

	.about-ide__gutter {
		background: var(--color-surface-raised, rgba(17, 17, 27, 0.8));
		padding: 2rem 1rem;
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		user-select: none;
		border-right: 1px solid var(--color-border, rgba(255, 255, 255, 0.1));
	}

	.about-ide__line-number {
		font-family: 'Fira Code', 'Courier New', monospace;
		font-size: 0.875rem;
		color: var(--color-text-muted, rgba(205, 214, 244, 0.4));
		text-align: right;
		min-width: 2ch;
		line-height: 1.5;
	}

	.about-ide__content {
		padding: 2rem;
		overflow-x: auto;
	}

	.about-ide__code {
		font-family: 'Fira Code', 'Courier New', monospace;
		font-size: clamp(0.875rem, 1.5vw, 1rem);
		line-height: 1.6;
		color: var(--color-text, #cdd6f4);
	}

	/* Syntax highlighting */
	.keyword {
		color: var(--color-primary, #cba6f7); /* Mauve */
		font-weight: 600;
	}

	.variable {
		color: var(--color-accent, #b4befe); /* Lavender */
	}

	.property {
		color: var(--color-text, #cdd6f4); /* Text */
	}

	.string {
		color: var(--color-secondary, #f5c2e7); /* Pink */
	}

	.operator,
	.punctuation {
		color: var(--color-text-muted, rgba(205, 214, 244, 0.7));
	}

	.indent {
		padding-left: 2rem;
	}

	.indent-2 {
		padding-left: 4rem;
	}

	/* Terminal section */
	.about-ide__terminal {
		margin-top: 2rem;
		background: var(--color-background, #1e1e2e);
		border: 1px solid var(--color-border, rgba(255, 255, 255, 0.1));
		border-radius: 8px;
		overflow: hidden;
	}

	.terminal-header {
		background: var(--color-surface-raised, rgba(17, 17, 27, 0.9));
		padding: 0.75rem 1rem;
		display: flex;
		align-items: center;
		gap: 0.5rem;
		border-bottom: 1px solid var(--color-border, rgba(255, 255, 255, 0.1));
	}

	.terminal-icon {
		color: var(--color-primary, #cba6f7);
		font-weight: 700;
	}

	.terminal-title {
		font-family: 'Fira Code', 'Courier New', monospace;
		font-size: 0.875rem;
		color: var(--color-text, #cdd6f4);
	}

	.terminal-output {
		padding: 1rem;
		font-family: 'Fira Code', 'Courier New', monospace;
		font-size: 0.875rem;
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}

	.terminal-prompt {
		color: var(--color-primary, #cba6f7);
		font-weight: 700;
	}

	.terminal-text {
		color: var(--color-text, #cdd6f4);
	}

	/* Responsive adjustments */
	@media (max-width: 768px) {
		.about-ide {
			padding: 2rem 1rem;
		}

		.about-ide__editor {
			grid-template-columns: auto 1fr;
		}

		.about-ide__gutter {
			padding: 1.5rem 0.5rem;
		}

		.about-ide__content {
			padding: 1.5rem 1rem;
		}

		.indent {
			padding-left: 1rem;
		}

		.indent-2 {
			padding-left: 2rem;
		}
	}

	/* Accessibility */
	@media (prefers-reduced-motion: reduce) {
		.about-ide__terminal {
			animation: none;
		}
	}
</style>
